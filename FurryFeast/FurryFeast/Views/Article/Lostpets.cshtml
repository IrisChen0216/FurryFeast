<!DOCTYPE html>
<html>
<head>
    <title>寵物遺失啟事</title>
    <link rel="icon" href="images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,900%7CLato%7CKalam:300,400,700">
    <link href="~/css/petclass/style.css" rel="stylesheet" />
    <link href="~/css/petclass/fonts.min.css" rel="stylesheet" />
    <link href="~/css/petclass/bootstrap.min.css" rel="stylesheet" />
    <style>
        .rounded-button {
            background-color: #ffd33b;
            color: #ffffff;
            transition: background-color 0.3s, color 0.3s;
            border-radius: 6px;

        }

            .rounded-button:hover {
                background-color: #000000;
                color: #ffffff;
            }

            .rounded-button a {
                color: #ffd33b;
                transition: color 0.3s;
      
            }

            .rounded-button:hover a {
                color: #ffffff;
            }
    </style>
</head>
<body>
    <div class="index-header">
        <h2>寵物遺失啟事</h2>
    </div>

    <div style="text-align: center;">
        <div class="group-sm group-middle">
            <div class="product-top-panel-sorting">
                <select id="select-category" data-minimum-results-for-search="Infinity">
                    <option value="">種類</option>
                    <option value="狗">狗</option>
                    <option value="貓">貓</option>
                    <option value="其他">其他</option>
                </select>
            </div>
            <div class="product-top-panel-sorting">
                <select id="select-variety" data-minimum-results-for-search="Infinity">
                    <option value="">品種</option>
                </select>
            </div>
            <div class="product-top-panel-sorting">
                <select id="select-gender" data-minimum-results-for-search="Infinity">
                    <option value="">性別</option>
                    <option value="公">公</option>
                    <option value="母">母</option>
                    <option value="未知">未知</option>
                </select>
            </div>
            <div class="product-top-panel-sorting">
                <select id="select-color" data-minimum-results-for-search="Infinity">
                    <option value="">毛色</option>
                </select>
            </div>
            <div>
                <input type="submit" class="search-button btn btn-primary rounded-button card-new" value="搜尋">
            </div>
        </div>
    </div>

    <div class="row row-cols-3">
        @foreach (var animal in Model)
        {
            <div class="col-lg-4 col-md-6 col-12 move-on-hover test">
                <a href="http://">
                    <div class="card-new" style="background: white; box-shadow: 0 15px 15px 0 rgba(0, 0, 0, 0.05);">
                        <div class="square-img-container">
                            <img src="@animal.Picture" alt="" onerror="this.onerror=null; this.src='https://cdn.pixabay.com/photo/2019/07/30/05/53/dog-4372036_960_720.jpg';">
                        </div>
                        <div class="card-body-new">
                            <p>品種: @animal.Breed</p>
                            <p>毛色: @animal.Color</p>
                            <p>遺失時間: @animal.LostTime</p>
                            <p>遺失地點: @animal.LostLocation</p>
                        </div>
                    </div>
                </a>
            </div>
        }
    </div>
      @section Scripts {
    <script src="~/js/product/core.min.js"></script>
    <script src="~/js/product/script.js"></script>
    <script>
        $(document).ready(function () {
            $('#filterForm').on('submit', function (e) {
                e.preventDefault();
                var formData = $(this).serialize();

                $.ajax({
                    url: '@Url.Action("LoadLostPets", "Article")',
                    type: 'POST',
                    data: formData,
                    success: function (data) {
                        var html = '';

                        for (var i = 0; i < data.length; i++) {
                            var animal = data[i];
                            html += '<div class="col-lg-4 col-md-6 col-12 move-on-hover test">';
                            html += '<a href="http://">';
                            html += '<div class="card-new" style="background: white; box-shadow: 0 15px 15px 0 rgba(0, 0, 0, 0.05);">';
                            html += '<div class="square-img-container">';
                            html += '<img src="' + animal.PICTURE + '" alt="">';
                            html += '</div>';
                            html += '<div class="card-body-new">';
                            html += '<p>品種: ' + animal.品種 + '</p>';
                            html += '<p>毛色: ' + animal.毛色 + '</p>';
                            html += '<p>遺失時間: ' + animal.遺失時間 + '</p>';
                            html += '<p>遺失地點: ' + animal.遺失地點 + '</p>';
                            html += '</div>';
                            html += '</div>';
                            html += '</a>';
                            html += '</div>';
                        }

                        $('.row').html(html);
                    }
                });
            });
        });
    </script>
    }

    <nav aria-label="Page navigation">
        <ul class="pagination">
            <li class="page-item @(ViewBag.PageNumber == 1 ? "disabled" : "")">
                <a class="page-link" href="@Url.Action("Lostpets", new { page = Math.Max(1, Convert.ToInt32(ViewBag.PageNumber) - 1) })">&lt;&lt;</a>
            </li>
            <li class="page-item @(ViewBag.PageNumber == 1 ? "disabled" : "")">
                <a class="page-link" href="@Url.Action("Lostpets", new { page = Math.Max(1, Convert.ToInt32(ViewBag.PageNumber) - 1) })">Previous</a>
            </li>

            @for (var i = Math.Max(1, Convert.ToInt32(ViewBag.PageNumber) - 5); i <= Math.Min(Convert.ToInt32(ViewBag.PageCount), Convert.ToInt32(ViewBag.PageNumber) + 5); i++)
            {
                <li class="page-item @(ViewBag.PageNumber == i ? "active" : "")">
                    <a class="page-link" href="@Url.Action("Lostpets", new { page = i })">@i</a>
                </li>
                @if (i == Math.Min(Convert.ToInt32(ViewBag.PageCount), Convert.ToInt32(ViewBag.PageNumber) + 5) && i < Convert.ToInt32(ViewBag.PageCount))
                {
                    <li class="page-item disabled">
                        <a class="page-link" href="#">...</a>
                    </li>
                }
            }

            <li class="page-item @(ViewBag.PageNumber == ViewBag.PageCount ? "disabled" : "")">
                <a class="page-link" href="@Url.Action("Lostpets", new { page = Math.Min(Convert.ToInt32(ViewBag.PageNumber) + 1, Convert.ToInt32(ViewBag.PageCount)) })">Next</a>
            </li>
            <li class="page-item @(ViewBag.PageNumber == ViewBag.PageCount ? "disabled" : "")">
                <a class="page-link" href="@Url.Action("Lostpets", new { page = ViewBag.PageCount })">>></a>
            </li>
        </ul>
    </nav>
</body>
</html>
